package ${pacote}.web.mapper;

import java.util.Collection;
import java.util.stream.Stream;
import org.mapstruct.Mapper;
import org.mapstruct.Mapping;
import org.springframework.beans.factory.annotation.Autowired;
import jakarta.validation.Valid;
<#list imports as import>
import ${import};
</#list>

@Mapper(componentModel = "spring",
    implementationPackage = "${pacote}.web.mapper.impl")
public abstract class ${nome}Mapper {
  @Autowired
  private ${nome}Service ${nomeVariavel}Sevice;

<#if gerarSalvar>  
  public abstract ${nome}Entity toEntity(${nome}NovoRequest request);
</#if>

<#if gerarAtualizar>
  public abstract ${nome}Entity toEntity(${nome}Entity {nomeVariavel}, @Valid ${nome}AtualizacaoRequest request);
</#if>
 
<#if gerarBuscarPorId>
  public abstract ${nome}Response toResponse(${nome}Entity ${nomeVariavel});
</#if>
  
<#if gerarPesquisar>
  public abstract Collection<${nome}PesquisaResponse> toResponse(
      Stream<${nome}PesquisaView> ${nomeVariavel}s);
      
  public PageResponse<${nome}PesquisaResponse> toResponse(Page<${nome}PesquisaView> resultadosPesquisa) {
    return new PageResponse<>(this.toResponse(resultado.get()), resultadosPesquisa);
  }
</#if>  
}